# INV-DATA-CANON â€” Single Truth Invariant
# VERSION: 1.0
# STATUS: PROVEN

invariant:
  id: INV-DATA-CANON
  name: Single Pipeline Truth
  
  description: |
    River is the single source of truth for market data.
    No alternative pipelines, no local caches, no synthetic fills.
    All consumers read from River or not at all.
    
  enforcement:
    type: architectural
    mechanism: "All modules must read via River interface"
    violation: "DataSourceViolation exception"
    
  tests:
    - test_file: tests/test_liar_paradox.py
      description: "Detects corruption in pipeline"
    - test_file: tests/test_mirror.py
      description: "Verifies vendor parity"
      
  proven:
    sprint: S26
    evidence: "Mirror test XOR == 0, Truth Teller awake"
    
  related_invariants:
    - INV-CONTRACT-1
    
  severity: CRITICAL
  violation_action: HALT
