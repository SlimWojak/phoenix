# S34.5 ORIENTATION FLEX — Canonical Spec

**Author:** OPUS (Synthesizing G + Advisor Panel + CTO Review)
**Date:** 2026-01-27
**Version:** 2.0 (CTO Approved with Sequencing)
**Status:** APPROVED (Sequenced after Track F)
**Source:** `pilot_exploration.md` + Advisor Refinement

---

## MANTRA

> **"Checksum, not briefing. Verification, not understanding."**

---

## EXECUTIVE SUMMARY

G conducted a frontier exploration with the advisor panel on system-owned orientation for Phoenix. This document synthesizes the key insights into an actionable 1-day test scope.

**Core Hypothesis:** Orientation decay can be solved by making orientation a machine-verifiable checksum owned by the system, not vibes owned by the session.

**Adversarial Framing (GPT Sharpening):**
> A hostile Strategist **cannot misunderstand** system state without contradicting the ORIENTATION_BEAD.

---

## ALPHA ASSESSMENT

**Alpha Richness: HIGH (8/10)**

This isn't speculative future-tech — it's a structural insight about where Phoenix's UX friction actually lives. The discussion correctly identifies that the problem isn't "Claude forgets" but rather **orientation decay across sessions**.

**The Keeper Insight:**

> "Orientation should belong to the system, not the model."

**GPT's Sharpening:**

> "Orientation isn't about helpful understanding — it's about machine-checkable correctness."

### Why This Is Real Alpha (Not Shiny Bait)

1. **It matches Phoenix's actual control boundaries** — we already enforce no cloud model touching capital, explicit T2 approval, read-only reconciliation, human veto everywhere
2. **Local ≠ smaller Claude** — the Pilot is a reflexive operator, not a thinker
3. **The sovereignty argument is technical, not ideological** — dark mode continuity, latency determinism, no silent policy drift

---

## OPUS BUILDS

### 1. The Phoenix-Specific Unlock

Phoenix is uniquely positioned for this pattern because:

- **File-seam architecture** (not chat-centric) — Claude Desktop already talks via files
- **Bead immutability** — orientation state is already hash-chained and queryable
- **Invariant-enforced boundaries** — the "what Pilot may NOT do" is already codified

Most projects trying Pilot-Strategist would need to build trust infrastructure. **Phoenix already has it.**

### 2. The "Meta-Bead" is Computable Today

The ORIENTATION_BEAD aggregates existing state into a machine-verifiable checksum:

```yaml
ORIENTATION_BEAD:
  # All fields must be machine-verifiable, no prose
  execution_phase: S33_P1_COMPLETE  # Enum, not description
  mode: PAPER                        # MOCK | PAPER | LIVE_LOCKED
  active_invariants_count: 34        # Integer
  last_human_action_bead_id: "abc123" # Reference, not prose
  last_alert_id: null                # Reference or null
  kill_flags_active: 0               # Integer
  unresolved_drift_count: 0          # Integer
  heartbeat_status: HEALTHY          # Enum
  positions_open: 0                  # Integer
  bead_hash: <computed>              # SHA256 checksum
```

This isn't S35 — this is a **bead type we could add now** without touching trading logic.

### 3. The MCP-to-Phoenix Seam

The first valuable MCP server isn't trading APIs — it's exposing read-only Phoenix state:

- `get_system_orientation()` → ORIENTATION_BEAD
- `query_recent_beads(type, limit)` → Bead[]
- `get_invariant_status(id)` → {proven, failed, untested}

**Constraint:** READ-ONLY. No mutations. Ever.

---

## ACTIVATION SEQUENCE

```yaml
SEQUENCING:
  step_1: S33 P1 Track F (UX testing) — MUST COMPLETE FIRST
  step_2: Assess Olya/CSO input timeline
  step_3: IF gap exists AND Track F green → S34.5 activates
  step_4: Hard cap 1 day, park immediately if over

RATIONALE: |
  Olya-blocking creates natural gap.
  Track F first, then S34.5 fills wait time.
  1 day is correctly shaped for the gap.
```

---

## AGILE TEST SCOPE

```yaml
# =============================================================================
# S34.5 ORIENTATION FLEX — AGILE TEST SCOPE
# =============================================================================
# Status: APPROVED (Sequenced after Track F)
# Duration: 1 day max (HARD KILL if over)
# Risk: LOW (infrastructure only, no trading logic)
# Dependencies: S33 P1 Track F Complete

PROBLEM_STATEMENT: |
  Orientation decay across sessions creates cognitive rehydration cost.
  Every new Claude session = 15+ minutes re-grounding in system state.
  This is tolerable in build mode, intolerable in operational mode.

  Hypothesis: Orientation can be system-owned, not session-owned.
  Reframe: System-owned orientation CHECKSUM, not briefing.

OBJECTIVE: |
  Prove a hostile Strategist CANNOT misunderstand system state
  without contradicting the ORIENTATION_BEAD.

  This is verification, not understanding.

# =============================================================================
# WHAT WE BUILD (Minimal)
# =============================================================================

ARTIFACTS:

  1_ORIENTATION_BEAD_SCHEMA:
    file: schemas/orientation_bead.yaml
    purpose: Deterministic system state checksum
    fields:
      - execution_phase: Enum (S33_P1_COMPLETE, etc)
      - mode: Enum (MOCK | PAPER | LIVE_LOCKED)
      - active_invariants_count: Integer
      - last_human_action_bead_id: UUID reference
      - last_alert_id: UUID reference or null
      - kill_flags_active: Integer
      - unresolved_drift_count: Integer
      - heartbeat_status: Enum (HEALTHY | DEGRADED | MISSED)
      - positions_open: Integer
      - bead_hash: SHA256
    constraints:
      - ALL fields machine-verifiable (no prose summaries)
      - ALL fields cross-checkable against source systems
      - Sufficient for hostile Strategist to detect inconsistency
      - Output ≤1000 tokens

  2_ORIENTATION_MCP_SERVER:
    purpose: Expose Phoenix state to any MCP-capable client
    endpoints:
      - get_system_orientation() → ORIENTATION_BEAD
      - query_recent_beads(type, limit) → Bead[]
      - get_invariant_status(id) → {proven, failed, untested}
    constraint: READ-ONLY (absolutely no mutations)

  3_HUD:
    status: DEFER (nice-to-have, not required for S34.5)
    note: If time permits and core passes, minimal Textual/Streamlit

# =============================================================================
# TESTS
# =============================================================================

POSITIVE_TEST:
  name: Verification Speed
  procedure:
    - Open fresh Claude Desktop session
    - Give it: MCP tool access only
    - Single call: get_system_orientation()
    - Ask: "What is the system state?"
    - Measure: Time to correct verification
  success_criteria:
    - Strategist correctly states phase/mode/positions/health
    - Time < 10 seconds
    - No additional context required

NEGATIVE_TEST:
  name: Corruption Detection (THE KILL TEST)
  procedure:
    - Corrupt 1 field in ORIENTATION_BEAD
      (e.g., mode: LIVE when actually PAPER)
    - Give corrupted bead to fresh Strategist
    - Ask: "What is the system state?"
  expected:
    - Strategist reports STATE_CONFLICT or contradiction
    - Strategist asks for clarification before proceeding
    - Strategist refuses to act on corrupted orientation
  rationale: |
    If this fails, orientation is still vibes, not system-owned.
    This is the kill test for "did we actually solve it?"

# =============================================================================
# WHAT WE EXPLICITLY FORBID
# =============================================================================

FORBIDDEN:
  - Fine-tuning anything (no LoRA, no training)
  - Pilot suggesting trades or "seeing opportunities"
  - MCP connection to execution APIs (IBKR)
  - Any "helpfulness" or "insight" language
  - Strategy logic of any kind
  - Dependency on Olya inputs
  - Calling it "Pilot" (too loaded for S34.5)
  - Prose summaries in bead fields (machine fields ONLY)
  - "Understanding" framing (use "verification" instead)
  - Scope creep beyond 1 day (HARD KILL)

RATIONALE: |
  This flex is about VERIFICATION and CHECKSUMS, not INTELLIGENCE.
  If intelligence creeps in, we've contaminated the experiment.

# =============================================================================
# SUCCESS CRITERIA
# =============================================================================

EXIT_GATE:
  binary: "Hostile Strategist cannot misunderstand without contradicting bead"

SUCCESS_MEANING:
  positive: Strategist correctly verifies phase/mode/positions/health in <10s
  negative: Strategist catches corrupted bead (STATE_CONFLICT)
  checksum: Orientation is machine-verifiable, not vibes

OUTCOMES:
  if_success:
    - Log pattern as PROVEN
    - Add ORIENTATION_BEAD to schemas/beads.yaml
    - Park MCP server for S35 activation

  if_failure:
    - Log learnings (what broke?)
    - Park entire pattern
    - No cognitive debt
    - No S35 taint

# =============================================================================
# FUTURE S35+ ACTIVATION (DORMANT)
# =============================================================================

S35_PILOT_STRATEGIST_PATTERN:
  status: DORMANT
  activation_triggers:
    - "local_latency > API_tolerance"
    - "Anthropic filters drift"
    - "Phoenix boredom achieved"

  forbidden_until:
    - S33 Phase 2 complete
    - Olya trust fully established
    - Paper trades validated

  components_when_activated:
    - ICT dialect LoRA (Unsloth + Olya beads)
    - Local Pilot HUD (Textual/Gradio)
    - Sovereign Guard (local veto layer)
    - LanceDB topological RAG

  invariants_proposed:
    - INV-S35-LOCAL-FIRST: Local fills reconcile before cloud updates
    - INV-S35-VETO-POWER: Pilot veto absolute, Strategist cannot override
    - INV-S35-NO-CREATIVITY: Pilot reflects/validates, never invents

  logged_questions:
    Q_VALIDITY_OWNERSHIP:
      question: "Who owns the right to declare ORIENTATION invalid?"
      options: [Human, System, Pilot (future)]
      status: LOGGED_NOT_SOLVED
      solve_when: S35 activation considered

# =============================================================================
# RISK VECTORS (S35 — Important for Later)
# =============================================================================

RISKS_IF_S35_EVER_EXECUTES:
  fine_tune_drift:
    risk: Badly tuned Pilot more dangerous than no Pilot
    mitigation: Build veto layer FIRST, tune SECOND

  veto_fatigue:
    risk: Too strict = STATE_CONFLICT spam = ignored alarms
    mitigation: Tiered veto sensitivity (Safe vs Chaos markets)

  echo_chamber:
    risk: Pilot tuned only on wins misses new regimes
    mitigation: Weekly Strategist "Autopsy" on Pilot vetoes

  helpful_creep:
    risk: Pilot starts suggesting, optimizing, "seeing"
    mitigation: Hard doctrine: "matches/doesn't match" only
```

---

## ADVISOR CONSENSUS (Final)

| Advisor | Position | Key Add |
|---------|----------|---------|
| **GPT** | APPROVE with teeth | Adversarial framing, negative test, "checksum not briefing" |
| **GROK** | YES_1_DAY | Structure validation, frontier sweep after (good discipline) |
| **CTO** | APPROVE (sequenced) | Track F first, S34.5 fills gap |
| **OPUS** | Low risk, high signal | ORIENTATION_BEAD computable today |

---

## CTO DECISION (Resolved)

```yaml
VERDICT: APPROVE_S34.5 (sequenced)

SEQUENCE:
  tomorrow_am: Track F (S33 P1 exit gate)
  if_gap_exists: S34.5 fills Olya-wait time

SCOPE:
  in_scope:
    - ORIENTATION_BEAD schema
    - Generator (aggregates existing state)
    - MCP read-only server (3 endpoints)
    - Negative test (corrupt → STATE_CONFLICT)

  out_of_scope:
    - HUD (defer)
    - Intelligence (forbidden)
    - Fine-tuning (forbidden)
    - Trading logic (forbidden)

HARD_CONSTRAINTS:
  duration: 1 day max
  kill_trigger: Any scope creep
```

---

## BOTTOM LINE

This discussion is **legitimately alpha-rich** because it correctly identifies a real friction point (orientation decay) and proposes a structural solution (system-owned orientation checksum) that aligns with Phoenix's existing architecture.

### The Combined Insight

> **"System-owned orientation checksum. Machine-verifiable. Not vibes."**

### Why S34.5 Flex Is Justified

1. **It doesn't touch trading logic**
2. **It doesn't depend on Olya**
3. **It tests a hypothesis cheaply**
4. **Success = validated pattern for S35**
5. **Failure = no debt, park cleanly**
6. **Fills natural gap while waiting for CSO inputs**

### The Kill Test

If the **negative test fails** (corrupted bead doesn't trigger STATE_CONFLICT), we haven't solved orientation — we've just built another briefing document. The negative test is what separates checksum from vibes.

### Recommendation

Track F first. Then S34.5 fills the gap. 1 day max. Park immediately if over.

**The cockpit frame, not the avionics.**

---

*Synthesized by OPUS from G + Advisor Panel + CTO Review.*
*Version 2.0 — Canonical spec for execution.*
