OINK! HEALTH CHECK ğŸ—
FACTS_ONLY â€” NO INTERPRETATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
{{ timestamp_str }}

DATA STREAM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {{ river.health_status | health_emoji }} {{ river.health_status }}
  Updated {{ river.staleness_seconds | format_staleness }}
{% if river.is_stale %}  âš ï¸ Stale â€” check connection{% endif %}

BROKER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {{ supervisor.state | health_emoji }} {{ supervisor.state }}
{% if supervisor.ibkr_connected %}  Connected{% else %}  Disconnected{% endif %}
{% if supervisor.heartbeat_ok %}  Heartbeat OK{% else %}  âš ï¸ Heartbeat missed{% endif %}
{% if supervisor.degradation_level and supervisor.degradation_level != 'NONE' %}  {{ supervisor.degradation_level }}{% endif %}

CIRCUITS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {{ supervisor.circuit_breakers_closed | circuit_status(supervisor.circuit_breakers_total) }}

{% if tests.collected %}
TEST SUITE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {{ tests.passed }} of {{ tests.collected }} passed
{% if tests.failed %}  {{ tests.failed }} failed{% endif %}
{% endif %}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
{% if river.health_status == 'HEALTHY' and supervisor.state == 'RUNNING' %}
All systems nominal.
{% else %}
âš ï¸ Attention required â€” review above.
{% endif %}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
